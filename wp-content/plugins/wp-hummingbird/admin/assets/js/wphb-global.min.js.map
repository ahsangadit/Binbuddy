{"version":3,"sources":["webpack://wp-hummingbird/./_src/js/global.js"],"names":["WPHBGlobal","ajaxurl","menuButton","document","querySelector","menuButtonNetworkWide","noticeButton","getElementById","init","wphbGlobal","this","addEventListener","post","window","WPHB_Admin","SUI","openModal","location","href","url","action","xhr","XMLHttpRequest","open","onload","status","reload","send"],"mappings":"CAGA,WACC,aAEA,IAAMA,EAAa,CAClBC,QAAS,KACTC,WAAYC,SAASC,cACpB,sCAEDC,sBAAuBF,SAASC,cAC/B,mDAEDE,aAAcH,SAASI,eACtB,oCAGDC,KAZkB,WAYX,WACDC,WACJC,KAAKT,QAAUQ,WAAWR,QAE1BS,KAAKT,QAAUA,QAGXS,KAAKR,YACTQ,KAAKR,WAAWS,iBAAkB,SAAS,kBAC1C,EAAKC,KAAMZ,EAAWC,QAAS,6BAI5BS,KAAKL,uBACTK,KAAKL,sBAAsBM,iBAAkB,SAAS,gBAChD,IAAuBE,OAAOC,WAMnCD,OAAOE,IAAIC,UACV,aACA,SACA,kBARAH,OAAOI,SAASC,KACf,oEAYCR,KAAKJ,cACTI,KAAKJ,aAAaK,iBAAkB,SAAS,kBAC5C,EAAKC,KAAMZ,EAAWC,QAAS,+BAKlCW,KAAM,SAAEO,EAAKC,GACZ,IAAMC,EAAM,IAAIC,eAChBD,EAAIE,KAAM,OAAQJ,EAAM,WAAaC,GACrCC,EAAIG,OAAS,WACQ,MAAfH,EAAII,QACRR,SAASS,UAGXL,EAAIM,SAINxB,SAASQ,iBAAkB,oBAAoB,WAC9CX,EAAWQ,UAhEb","file":"wphb-global.min.js","sourcesContent":["/* global wphbGlobal */\n/* global ajaxurl */\n\n( function () {\n\t'use strict';\n\n\tconst WPHBGlobal = {\n\t\tajaxurl: null,\n\t\tmenuButton: document.querySelector(\n\t\t\t'#wp-admin-bar-wphb-clear-cache > a'\n\t\t),\n\t\tmenuButtonNetworkWide: document.querySelector(\n\t\t\t'#wp-admin-bar-wphb-clear-cache-network-wide > a'\n\t\t),\n\t\tnoticeButton: document.getElementById(\n\t\t\t'wp-admin-notice-wphb-clear-cache'\n\t\t),\n\n\t\tinit() {\n\t\t\tif ( wphbGlobal ) {\n\t\t\t\tthis.ajaxurl = wphbGlobal.ajaxurl;\n\t\t\t} else {\n\t\t\t\tthis.ajaxurl = ajaxurl;\n\t\t\t}\n\n\t\t\tif ( this.menuButton ) {\n\t\t\t\tthis.menuButton.addEventListener( 'click', () =>\n\t\t\t\t\tthis.post( WPHBGlobal.ajaxurl, 'wphb_front_clear_cache' )\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif ( this.menuButtonNetworkWide ) {\n\t\t\t\tthis.menuButtonNetworkWide.addEventListener( 'click', () => {\n\t\t\t\t\tif ( 'undefined' === typeof window.WPHB_Admin ) {\n\t\t\t\t\t\twindow.location.href =\n\t\t\t\t\t\t\t'/wp-admin/network/admin.php?page=wphb-caching&update=open-ccnw';\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\twindow.SUI.openModal(\n\t\t\t\t\t\t'ccnw-modal',\n\t\t\t\t\t\t'wpbody',\n\t\t\t\t\t\t'ccnw-clear-now'\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( this.noticeButton ) {\n\t\t\t\tthis.noticeButton.addEventListener( 'click', () =>\n\t\t\t\t\tthis.post( WPHBGlobal.ajaxurl, 'wphb_global_clear_cache' )\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\n\t\tpost: ( url, action ) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open( 'POST', url + '?action=' + action );\n\t\t\txhr.onload = function () {\n\t\t\t\tif ( xhr.status === 200 ) {\n\t\t\t\t\tlocation.reload();\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr.send();\n\t\t},\n\t};\n\n\tdocument.addEventListener( 'DOMContentLoaded', function () {\n\t\tWPHBGlobal.init();\n\t} );\n} )();\n"],"sourceRoot":""}